/*! markdown-it-unicode-emoji 0.2.0 https://github.com//makepanic/markdown-it-unicode-emoji @license MIT */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.markdownitEmoji=e()}}(function(){return function e(n,t,o){function r(c,u){if(!t[c]){if(!n[c]){var s="function"==typeof require&&require;if(!u&&s)return s(c,!0);if(i)return i(c,!0);var a=new Error("Cannot find module '"+c+"'");throw a.code="MODULE_NOT_FOUND",a}var f=t[c]={exports:{}};n[c][0].call(f.exports,function(e){var t=n[c][1][e];return r(t||e)},f,f.exports,e,n,t,o)}return t[c].exports}for(var i="function"==typeof require&&require,c=0;c<o.length;c++)r(o[c]);return r}({1:[function(e,n,t){"use strict";var o,r=e("./lib/data/empty.json"),i=e("./lib/render"),c=e("./lib/replace"),u=e("./lib/normalize_opts");try{o=e("emojione")}catch(e){"undefined"!=typeof emojione&&(o=emojione)}n.exports=function(e,n){n=n||{};var t={defs:r,shortcuts:{},enabled:[],containsUnicodeEmoji:n.containsUnicodeEmoji?n.containsUnicodeEmoji:function(e){return o.regUnicode.test(e)},replaceUnicodeEmojis:n.replaceUnicodeEmojis?n.replaceUnicodeEmojis:function(e,n){return e.replace(o.regUnicode,n)}},s=u(e.utils.assign({},t,n||{}));e.renderer.rules.emoji=i,e.core.ruler.push("emoji",c(e,s.defs,s.shortcuts,s.scanRE,s.containsUnicodeEmoji,s.replaceUnicodeEmojis))}},{"./lib/data/empty.json":2,"./lib/normalize_opts":3,"./lib/render":4,"./lib/replace":5,emojione:void 0}],2:[function(e,n,t){n.exports={}},{}],3:[function(e,n,t){"use strict";function o(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}n.exports=function(e){var n,t=e.defs;e.enabled.length&&(t=Object.keys(t).reduce(function(n,o){return e.enabled.indexOf(o)>=0&&(n[o]=t[o]),n},{})),n=Object.keys(e.shortcuts).reduce(function(n,o){return t[o]?Array.isArray(e.shortcuts[o])?(e.shortcuts[o].forEach(function(e){n[e]=o}),n):(n[e.shortcuts[o]]=o,n):n},{});var r=Object.keys(t).map(function(e){return":"+e+":"}).concat(Object.keys(n)).sort().reverse().map(function(e){return o(e)}).join("|"),i=RegExp(r,"g");return{defs:t,shortcuts:n,scanRE:i,containsUnicodeEmoji:e.containsUnicodeEmoji,replaceUnicodeEmojis:e.replaceUnicodeEmojis}}},{}],4:[function(e,n,t){"use strict";n.exports=function(e,n){return e[n].content}},{}],5:[function(e,n,t){"use strict";function o(e,n){for(var t=[],o=0,r=0,i=0;i<e.length;)o=e.charCodeAt(i++),r?(t.push((65536+(r-55296<<10)+(o-56320)).toString(16)),r=0):55296<=o&&o<=56319?r=o:t.push(o.toString(16));return t.join(n||"-")}function r(e,n){return o("\ufe0f"===n?e.slice(0,-1):3===e.length&&"\ufe0f"===e.charAt(1)?e.charAt(0)+e.charAt(2):e)}n.exports=function(e,n,t,o,i,c){function u(e,i,u){var s,a,l=0,p=[];return e.replace(o,function(o,r,i){if(!(":/"===o&&r>0)||f.test(i[r-1])){var c;c=t.hasOwnProperty(o)?t[o]:o.slice(1,-1),r>l&&(s=new u("text","",0),s.content=e.slice(l,r),p.push(s)),s=new u("emoji","",0),s.markup=c,s.content=n[c],p.push(s),l=r+o.length}}),l<e.length&&(s=new u("text","",0),s.content=e.slice(l),p.push(s)),a=p.map(function(e){if("text"===e.type){var n=[],t=0,o=e.content;return c(e.content,function(e,i,c,a){var f=r(i,c);a>t&&(s=new u("text","",0),s.content=o.slice(t,a),n.push(s)),s=new u("emoji","",0),s.markup=f,s.content=i,n.push(s),t=a+e.length}),t<o.length&&(s=new u("text","",0),s.content=o.slice(t),n.push(s)),n}return e}),[].concat.apply([],a)}var s=e.utils.arrayReplaceAt,a=e.utils.lib.ucmicro,f=new RegExp([a.Z.source,a.P.source,a.Cc.source].join("|"));return function(e){var n,t,r,c,a,f=e.tokens;for(t=0,r=f.length;t<r;t++)if("inline"===f[t].type)for(c=f[t].children,n=c.length-1;n>=0;n--)a=c[n],"text"===a.type&&(o.test(a.content)||i(a.content))&&(f[t].children=c=s(c,n,u(a.content,a.level,e.Token)))}}},{}]},{},[1])(1)});
